/* Update : Mon Nov 28 2016 17:54:37 GMT+0800 (中国标准时间) */
!function t(e,i,n){function s(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(o)return o(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){var i=e[r][1][t];return s(i?i:t)},h,h.exports,t,e,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(t,e,i){"use strict";function n(t,e){function i(t,e){return function(){return t.apply(e,arguments)}}var s;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!n.notNeeded(t)){for(var r=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,l=0,c=r.length;l<c;l++)a[r[l]]=i(a[r[l]],a);o&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,n){var s=Node.prototype.removeEventListener;"click"===e?s.call(t,e,i.hijacked||i,n):s.call(t,e,i,n)},t.addEventListener=function(e,i,n){var s=Node.prototype.addEventListener;"click"===e?s.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),n):s.call(t,e,i,n)}),"function"==typeof t.onclick&&(s=t.onclick,t.addEventListener("click",function(t){s(t)},!1),t.onclick=null)}}var s=navigator.userAgent.indexOf("Windows Phone")>=0,o=navigator.userAgent.indexOf("Android")>0&&!s,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!s,a=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=r&&/OS [6-7]_\d/.test(navigator.userAgent),c=navigator.userAgent.indexOf("BB10")>0;n.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(r&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},n.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!o;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},n.prototype.sendClick=function(t,e){var i,n;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),n=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},n.prototype.determineEventType=function(t){return o&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},n.prototype.focus=function(t){var e;r&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},n.prototype.updateScrollParent=function(t){var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},n.prototype.onTouchStart=function(t){var e,i,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],r){if(n=window.getSelection(),n.rangeCount&&!n.isCollapsed)return!0;if(!a){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},n.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},n.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},n.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(t){var e,i,n,s,c,h=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(c=t.changedTouches[0],h=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||h,h.fastClickScrollParent=this.targetElement.fastClickScrollParent),n=h.tagName.toLowerCase(),"label"===n){if(e=this.findControl(h)){if(this.focus(h),o)return!1;h=e}}else if(this.needsFocus(h))return t.timeStamp-i>100||r&&window.top!==window&&"input"===n?(this.targetElement=null,!1):(this.focus(h),this.sendClick(h,t),r&&"select"===n||(this.targetElement=null,t.preventDefault()),!1);return!(!r||a||(s=h.fastClickScrollParent,!s||s.fastClickLastScrollTop===s.scrollTop))||(this.needsClick(h)||(t.preventDefault(),this.sendClick(h,t)),!1)},n.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},n.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},n.prototype.destroy=function(){var t=this.layer;o&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(t){var e,i,n,s;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!o)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(i>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(c&&(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),n[1]>=10&&n[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(s=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(s>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(e.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},n.attach=function(t,e){return new n(t,e)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return n}):"undefined"!=typeof e&&e.exports?(e.exports=n.attach,e.exports.FastClick=n):window.FastClick=n,"addEventListener"in document&&document.addEventListener("DOMContentLoaded",function(){n.attach(document.body)},!1)},{}],2:[function(t,e,i){function n(t,e){function i(t){if(t.target===this)for(e.call(this,t),n=0;n<s.length;n++)o.off(s[n],i)}var n,s=t,o=this;if(e)for(n=0;n<s.length;n++)o.on(s[n],i)}function s(t){for(var e=["external","tab-link","open-popup","close-popup","open-panel","close-panel"],i=e.length-1;i>=0;i--)if(t.hasClass(e[i]))return!0;var n=t.get(0),s=n.getAttribute("href"),o=["http","https"];return!!(/^(\w+):/.test(s)&&o.indexOf(RegExp.$1)<0)||!!n.hasAttribute("external")}function o(t){var e=r.config.router.filter;if($.isFunction(e)){var i=e(t);if("boolean"==typeof i)return i}return!0}var r=t("./Core");$.fn.animationEnd=function(t){return n.call(this,["webkitAnimationEnd","animationend"],t),this},$.fn.transitionEnd=function(t){return n.call(this,["webkitTransitionEnd","transitionend"],t),this};var a={pageLoadStart:"pageLoadStart",pageLoadCancel:"pageLoadCancel",pageLoadError:"pageLoadError",pageLoadComplete:"pageLoadComplete",pageAnimationStart:"pageAnimationStart",pageAnimationEnd:"pageAnimationEnd",beforePageRemove:"beforePageRemove",pageRemoved:"pageRemoved",beforePageSwitch:"beforePageSwitch",pageInit:"pageInitInternal"},l={getUrlFragment:function(t){var e=t.indexOf("#");return e===-1?"":t.slice(e+1)},getAbsoluteUrl:function(t){var e=document.createElement("a");e.setAttribute("href",t);var i=e.href;return e=null,i},getBaseUrl:function(t){var e=t.indexOf("#");return e===-1?t.slice(0):t.slice(0,e)},toUrlObject:function(t){var e=this.getAbsoluteUrl(t),i=this.getBaseUrl(e),n=this.getUrlFragment(t);return{base:i,full:e,original:t,fragment:n}},supportStorage:function(){var t="fly.router.storage.ability";try{return sessionStorage.setItem(t,t),sessionStorage.removeItem(t),!0}catch(t){return!1}}},c={sectionGroupClass:"page-group",curPageClass:"page-current",visiblePageClass:"page-visible",pageClass:"page"},h={leftToRight:"from-left-to-right",rightToLeft:"from-right-to-left"},u=window.history,d=function(){this.sessionNames={currentState:"fly.router.currentState",maxStateId:"fly.router.maxStateId"},this._init(),this.xhr=null,window.addEventListener("popstate",this._onPopState.bind(this))};d.prototype._init=function(){this.$view=$("body"),this.cache={};var t=$(document),e=location.href;this._saveDocumentIntoCache(t,e);var i,n,s=l.toUrlObject(e),o=t.find("."+c.pageClass),r=t.find("."+c.curPageClass),a=r.eq(0);if(s.fragment&&(n=t.find("#"+s.fragment)),n&&n.length?r=n.eq(0):r.length||(r=o.eq(0)),r.attr("id")||r.attr("id",this._generateRandomId()),a.length&&a.attr("id")!==r.attr("id")?(a.removeClass(c.curPageClass),r.addClass(c.curPageClass)):r.addClass(c.curPageClass),i=r.attr("id"),null===u.state){var h={id:this._getNextStateId(),url:l.toUrlObject(e),pageId:i};u.replaceState(h,"",e),this._saveAsCurrentState(h),this._incMaxStateId()}},d.prototype.load=function(t,e){void 0===e&&(e=!1),this._isTheSameDocument(location.href,t)?this._switchToSection(l.getUrlFragment(t)):(this._saveDocumentIntoCache($(document),location.href),this._switchToDocument(t,e))},d.prototype.forward=function(){u.forward()},d.prototype.back=function(){u.back()},d.prototype.loadPage=d.prototype.load,d.prototype._switchToSection=function(t){if(t){var e=this._getCurrentSection(),i=$("#"+t);e!==i&&(this._animateSection(e,i,h.rightToLeft),this._pushNewState("#"+t,t))}},d.prototype._switchToDocument=function(t,e,i,n){var s=l.toUrlObject(t).base;e&&delete this.cache[s];var o=this.cache[s],r=this;o?this._doSwitchDocument(t,i,n):this._loadDocument(t,{success:function(e){try{r._parseDocument(t,e),r._doSwitchDocument(t,i,n)}catch(e){location.href=t}},error:function(){location.href=t}})},d.prototype._doSwitchDocument=function(t,e,i){"undefined"==typeof e&&(e=!0);var n,s=l.toUrlObject(t),o=this.$view.find("."+c.sectionGroupClass),r=$($("<div></div>").append(this.cache[s.base].$content).html()),h=r.find("."+c.pageClass),u=r.find("."+c.curPageClass);s.fragment&&(n=r.find("#"+s.fragment)),n&&n.length?u=n.eq(0):u.length||(u=h.eq(0)),u.attr("id")||u.attr("id",this._generateRandomId());var d=this._getCurrentSection();d.trigger(a.beforePageSwitch,[d.attr("id"),d]),h.removeClass(c.curPageClass),u.addClass(c.curPageClass),this.$view.prepend(r),this._animateDocument(o,r,u,i),e&&this._pushNewState(t,u.attr("id"))},d.prototype._isTheSameDocument=function(t,e){return l.toUrlObject(t).base===l.toUrlObject(e).base},d.prototype._loadDocument=function(t,e){this.xhr&&this.xhr.readyState<4&&(this.xhr.onreadystatechange=function(){},this.xhr.abort(),this.dispatch(a.pageLoadCancel)),this.dispatch(a.pageLoadStart),e=e||{};var i=this;this.xhr=$.ajax({url:t,success:$.proxy(function(t,i,n){var s=$("<html></html>");s.append(t),e.success&&e.success.call(null,s,i,n)},this),error:function(t,n,s){e.error&&e.error.call(null,t,n,s),i.dispatch(a.pageLoadError)},complete:function(t,n){e.complete&&e.complete.call(null,t,n),i.dispatch(a.pageLoadComplete)}})},d.prototype._parseDocument=function(t,e){var i=e.find("."+c.sectionGroupClass);if(!i.length)throw new Error("missing router view mark: "+c.sectionGroupClass);this._saveDocumentIntoCache(e,t)},d.prototype._saveDocumentIntoCache=function(t,e){var i=l.toUrlObject(e).base,n=$(t);this.cache[i]={$doc:n,$content:n.find("."+c.sectionGroupClass)}},d.prototype._getLastState=function(){var t=sessionStorage.getItem(this.sessionNames.currentState);try{t=JSON.parse(t)}catch(e){t=null}return t},d.prototype._saveAsCurrentState=function(t){sessionStorage.setItem(this.sessionNames.currentState,JSON.stringify(t))},d.prototype._getNextStateId=function(){var t=sessionStorage.getItem(this.sessionNames.maxStateId);return t?parseInt(t,10)+1:1},d.prototype._incMaxStateId=function(){sessionStorage.setItem(this.sessionNames.maxStateId,this._getNextStateId())},d.prototype._animateDocument=function(t,e,i,n){var s=i.attr("id"),o=t.find("."+c.curPageClass);o.addClass(c.visiblePageClass).removeClass(c.curPageClass),i.trigger(a.pageAnimationStart,[s,i]),this._animateElement(t,e,n),t.animationEnd(function(){o.removeClass(c.visiblePageClass),$(window).trigger(a.beforePageRemove,[t]),t.remove(),$(window).trigger(a.pageRemoved)}),e.animationEnd(function(){i.trigger(a.pageAnimationEnd,[s,i]),i.trigger(a.pageInit,[s,i])})},d.prototype._animateSection=function(t,e,i){var n=e.attr("id");t.trigger(a.beforePageSwitch,[t.attr("id"),t]),t.removeClass(c.curPageClass),e.addClass(c.curPageClass),e.trigger(a.pageAnimationStart,[n,e]),this._animateElement(t,e,i),e.animationEnd(function(){e.trigger(a.pageAnimationEnd,[n,e]),e.trigger(a.pageInit,[n,e])})},d.prototype._animateElement=function(t,e,i){"undefined"==typeof i&&(i=h.rightToLeft);var n,s,o=["page-from-center-to-left","page-from-center-to-right","page-from-right-to-center","page-from-left-to-center"].join(" ");switch(i){case h.rightToLeft:n="page-from-center-to-left",s="page-from-right-to-center";break;case h.leftToRight:n="page-from-center-to-right",s="page-from-left-to-center";break;default:n="page-from-center-to-left",s="page-from-right-to-center"}t.removeClass(o).addClass(n),e.removeClass(o).addClass(s),t.animationEnd(function(){t.removeClass(o)}),e.animationEnd(function(){e.removeClass(o)})},d.prototype._getCurrentSection=function(){return this.$view.find("."+c.curPageClass).eq(0)},d.prototype._back=function(t,e){if(this._isTheSameDocument(t.url.full,e.url.full)){var i=$("#"+t.pageId);if(i.length){var n=this._getCurrentSection();this._animateSection(n,i,h.leftToRight),this._saveAsCurrentState(t)}else location.href=t.url.full}else this._saveDocumentIntoCache($(document),e.url.full),this._switchToDocument(t.url.full,!1,!1,h.leftToRight),this._saveAsCurrentState(t)},d.prototype._forward=function(t,e){if(this._isTheSameDocument(t.url.full,e.url.full)){var i=$("#"+t.pageId);if(i.length){var n=this._getCurrentSection();this._animateSection(n,i,h.rightToLeft),this._saveAsCurrentState(t)}else location.href=t.url.full}else this._saveDocumentIntoCache($(document),e.url.full),this._switchToDocument(t.url.full,!1,!1,h.rightToLeft),this._saveAsCurrentState(t)},d.prototype._onPopState=function(t){var e=t.state;if(e&&e.pageId){var i=this._getLastState();return i?void(e.id!==i.id&&(e.id<i.id?this._back(e,i):this._forward(e,i))):void(console.error&&console.error("Missing last state when backward or forward"))}},d.prototype._pushNewState=function(t,e){var i={id:this._getNextStateId(),pageId:e,url:l.toUrlObject(t)};u.pushState(i,"",t),this._saveAsCurrentState(i),this._incMaxStateId()},d.prototype._generateRandomId=function(){return"page-"+ +new Date},d.prototype.dispatch=function(t){var e=new CustomEvent(t,{bubbles:!0,cancelable:!0});window.dispatchEvent(e)},$(function(){if(!r.config.router.disabled&&l.supportStorage()){var t=$("."+c.pageClass);if(!t.length){var e="Disable router function because of no .page elements";return void(window.console&&window.console.warn&&console.warn(e))}var i=r.router=new d;$(document).on("click","a",function(t){var e=$(t.currentTarget),n=o(e);if(n&&!s(e))if(t.preventDefault(),e.hasClass("back"))i.back();else{var r=e.attr("href");if(!r||"#"===r)return;var a="true"===e.attr("data-no-cache");i.load(r,a)}})}})},{"./Core":3}],3:[function(t,e,i){function n(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("Events"),n=!0;for(var s in e)"bubbles"===s?n=!!e[s]:i[s]=e[s];return i.initEvent(t,n,!0),i}if("undefined"==typeof $)throw new Error("框架依赖Zepto");var s={VERSION:"0.1.0",RELEASE:"2016-11-16",config:{router:{disabled:!0,filter:void 0}},CacheData:{},uuid:0,hooks:{}};"undefined"==typeof window.CustomEvent&&(n.prototype=window.Event.prototype,window.CustomEvent=n),e.exports=s,window.fly=s,"function"==typeof define&&define.amd&&define("fly",[],function(){return s})},{}],4:[function(t,e,i){var n=t("./Core"),s=t("./Utils"),o=t("./Scroll"),r="ui-slider",a="ui-action-previous",l="ui-action-next",c="ui-slider-item",h="ui-slider-progress-bar",u="ui-active",d="."+c,p=n.Slider=o.extend({init:function(t,e){this._super(t,$.extend(!0,{fingers:1,interval:0,scrollY:!1,scrollX:!1,indicators:!1,scrollTime:1e3,startX:0,slideTime:0,snap:d,progressBar:!1},e))},_init:function(){if(this._reInit(),this.scroller){if(this.scrollerStyle=this.scroller.style,this.options.progressBar){var t=document.createElement("div");t.className=h,this.wrapper.appendChild(t),this.progressBar=t,this.progressBarStyle=this.progressBar.style}this._super(),this._initTimer()}},_triggerSlide:function(){var t=this;t.isInTransition=!1;t.currentPage;t.slideNumber=t._fixedSlideNumber(),t.lastSlideNumber!=t.slideNumber&&(t.lastSlideNumber=t.slideNumber,t.lastPage=t.currentPage,s.trigger(t.wrapper,"slide",{slideNumber:t.slideNumber}))},_handleSlide:function(t){var e=this;if(t.target===e.wrapper){var i=t.detail;i.slideNumber=i.slideNumber||0;for(var n=e.scroller.querySelectorAll(d),s=[],o=0,r=n.length;o<r;o++){var a=n[o];a.parentNode===e.scroller&&s.push(a)}var l=i.slideNumber;if(!e.wrapper.classList.contains("ui-segmented-control"))for(var o=0,r=s.length;o<r;o++){var a=s[o];a.parentNode===e.scroller&&(o===l?a.classList.add(u):a.classList.remove(u))}var c=e.wrapper.querySelector(".ui-slider-indicator");if(c){c.getAttribute("data-scroll")&&$(c).scroll().gotoPage(i.slideNumber);var h=c.querySelectorAll(".ui-indicator");if(h.length>0)for(var o=0,r=h.length;o<r;o++)h[o].classList[o===i.slideNumber?"add":"remove"](u);else{var p=c.querySelector(".ui-number span");if(p)p.innerText=i.slideNumber+1;else for(var f=c.querySelectorAll(".ui-control-item"),o=0,r=f.length;o<r;o++)f[o].classList[o===i.slideNumber?"add":"remove"](u)}}t.stopPropagation()}},_handleTabShow:function(t){var e=this;e.gotoItem(t.detail.tabNumber||0,e.options.slideTime)},_handleIndicatorTap:function(t){var e=this,i=t.target;(i.classList.contains(a)||i.classList.contains(l))&&(e[i.classList.contains(a)?"prevItem":"nextItem"](),t.stopPropagation())},_initEvent:function(t){var e=this;e._super(t);var i=t?"removeEventListener":"addEventListener";e.wrapper[i]("slide",this)},handleEvent:function(t){switch(this._super(t),t.type){case"slide":this._handleSlide(t)}},_scrollend:function(t){this._super(t),this._triggerSlide(t)},_drag:function(t){this._super(t);var e=t.detail.direction;if("left"===e||"right"===e){var i=this.wrapper.getAttribute("data-slidershowTimer");i&&window.clearTimeout(i),t.stopPropagation()}},_initTimer:function(){var t=this,e=t.wrapper,i=t.options.interval,n=e.getAttribute("data-slidershowTimer");n&&window.clearTimeout(n),i&&(n=window.setTimeout(function(){e&&((e.offsetWidth||e.offsetHeight)&&t.nextItem(!0),t._initTimer())},i),e.setAttribute("data-slidershowTimer",n))},_fixedSlideNumber:function(t){t=t||this.currentPage;var e=t.pageX;return e},_reLayout:function(){this.hasHorizontalScroll=!0,this._super()},_getScroll:function(){var t=s.parseTranslateMatrix(s.getStyles(this.scroller,"webkitTransform"));return t?t.x:0},_transitionEnd:function(t){t.target===this.scroller&&this.isInTransition&&(this._transitionTime(),this.isInTransition=!1,s.trigger(this.wrapper,"scrollend",this))},_flick:function(t){if(this.moved){var e=t.detail,i=e.direction;this._clearRequestAnimationFrame(),this.isInTransition=!0,"flick"===t.type?(this.x=this._getPage(this.slideNumber+("right"===i?-1:1),!0).x,this.resetPosition(this.options.bounceTime)):"dragend"!==t.type||e.flick||this.resetPosition(this.options.bounceTime),t.stopPropagation(),this._initTimer()}},_initSnap:function(){if(this.scrollerWidth=this.itemLength*this.scrollerWidth,this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0),this._super(),this.currentPage.x)this.slideNumber=this._fixedSlideNumber(),this.lastSlideNumber="undefined"==typeof this.lastSlideNumber?this.slideNumber:this.lastSlideNumber;else{var t=this.pages[0];if(!t)return;this.currentPage=t[0],this.slideNumber=0,this.lastSlideNumber="undefined"==typeof this.lastSlideNumber?0:this.lastSlideNumber}this.options.startX=this.currentPage.x||0},_getSnapX:function(t){return Math.max(-t,this.maxScrollX)},_getPage:function(t){return t>this.itemLength-1&&(t=0),t<0&&(t=0),this.pages[t][0]},_gotoItem:function(t){this.currentPage=this._getPage(t,!0),this.scrollTo(this.currentPage.x,0,this.options.scrollTime,this.options.scrollEasing),s.trigger(this.wrapper,"scrollend",this)},setTranslate:function(t,e){this._super(t,e);var i=this.progressBar,n=this.currentPage.pageX,s=this.itemLength;i&&(this.progressBarStyle.webkitTransform=this._getTranslateStr(this.wrapperWidth*n/s,0))},resetPosition:function(t){return t=t||0,this.x>0?this.x=0:this.x<this.maxScrollX&&(this.x=this.maxScrollX),this.currentPage=this._nearestSnap(this.x),this.scrollTo(this.currentPage.x,0,t,this.options.scrollEasing),!0},gotoItem:function(t){this._gotoItem(t)},nextItem:function(){this._gotoItem(this.slideNumber+1)},prevItem:function(){this._gotoItem(this.slideNumber-1)},getSlideNumber:function(){return this.slideNumber||0},_reInit:function(){},refresh:function(t){t?($.extend(this.options,t),this._super(),this._initTimer()):this._super()},destroy:function(){this._initEvent(!0),delete n.CacheData[this.wrapper.getAttribute("data-slider")],this.wrapper.setAttribute("data-slider","")}});$.fn.slider=function(t){var e=null;return this.each(function(){var i=this;if(this.classList.contains(r)||(i=this.querySelector("."+r)),i&&i.querySelector(d)){var s=i.getAttribute("data-slider");s?(e=n.CacheData[s],e&&t&&e.refresh(t)):(s=++n.uuid,n.CacheData[s]=e=new p(i,t),i.setAttribute("data-slider",s))}}),e}},{"./Core":3,"./Utils":5,"./Scroll":11}],5:[function(t,e,i){var n=t("./Core"),s={isArray:Array.isArray||function(t){return t instanceof Array},queryString:function(t){var e=t||location.search,i=e.replace(/^\s+/,"").replace(/\s+$/,"").match(/([^?#]*)(#.*)?$/);if(!i)return{};for(var n=i[1],s=n.split("&"),o={},r=0,a=s.length;r<a;r++){var l=s[r];if((l=l.split("="))[0]){var c=decodeURIComponent(l.shift()),h=l.length>1?l.join("="):l[0];void 0!=h&&(h=decodeURIComponent(h)),c in o?(o[c].constructor!=Array&&(o[c]=[o[c]]),o[c].push(h)):o[c]=h}}return o},GUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})},parseTranslateMatrix:function(t,e){var i=t.match(/matrix(3d)?\((.+?)\)/),n=i&&i[1];i?(i=i[2].split(","),"3d"===n?i=i.slice(12,15):(i.push(0),i=i.slice(4,7))):i=[0,0,0];var s={x:parseFloat(i[0]),y:parseFloat(i[1]),z:parseFloat(i[2])};return e&&s.hasOwnProperty(e)?s[e]:s},getStyles:function(t,e){var i=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?i.getPropertyValue(e)||i[e]:i},trigger:function(t,e,i){return t.dispatchEvent(new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0})),this},later:function(t,e,i,n){e=e||0;var o,r,a=t,l=n;return"string"==typeof t&&(a=i[t]),o=function(){a.apply(i,s.isArray(l)?l:[l])},r=setTimeout(o,e),{id:r,cancel:function(){clearTimeout(r)}}},offset:function(t){var e={top:0,left:0};return void 0!==typeof t.getBoundingClientRect&&(e=t.getBoundingClientRect()),{top:e.top+window.pageYOffset-t.clientTop,left:e.left+window.pageXOffset-t.clientLeft}}};e.exports=s,n.utils=s},{"./Core":3}],6:[function(t,e,i){var n=t("./Core"),s={qsa:function(t,e){return e=e||document,[].slice.call(/^\.([\w-]+)$/.test(t)?e.getElementsByClassName(RegExp.$1):/^[\w-]+$/.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t))}},o="ui-popup",r="ui-popup-backdrop",a="ui-popup-in",l="ui-popup-out",c="ui-popup-inner",h="ui-popup-title",u="ui-popup-text",d="ui-popup-input",p="ui-popup-buttons",f="ui-popup-button",m="ui-popup-button-bold",g="ui-active",v=[],w=function(){var t=document.createElement("div");return t.classList.add(r),t.addEventListener("touchmove",function(t){t.preventDefault()}),t.addEventListener("webkitTransitionEnd",function(){this.classList.contains(g)||t.parentNode&&t.parentNode.removeChild(t)}),t}(),y=function(t){return'<div class="'+d+'"><input type="text" autofocus placeholder="'+(t||"")+'"/></div>'},b=function(t,e,i){return'<div class="'+c+'"><div class="'+h+'">'+e+'</div><div class="'+u+'">'+t.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>")+"</div>"+(i||"")+"</div>"},x=function(t){for(var e=t.length,i=[],n=0;n<e;n++)i.push('<span class="'+f+(n===e-1?" "+m:"")+'">'+t[n]+"</span>");return'<div class="'+p+'">'+i.join("")+"</div>"},S=function(t,e,i){var n=document.createElement("div");n.className=o,n.innerHTML=t;var r=function(){n.parentNode&&n.parentNode.removeChild(n),n=null};n.addEventListener("touchmove",function(t){t.preventDefault()}),n.addEventListener("webkitTransitionEnd",function(t){n&&t.target===n&&n.classList.contains(l)&&r()}),n.style.display="block",document.body.appendChild(n),n.offsetHeight,n.classList.add(a),w.classList.contains(g)||i||(w.style.display="block",document.body.appendChild(w),w.offsetHeight,w.classList.add(g));var c=s.qsa("."+f,n),h=n.querySelector("."+d+" input"),u={element:n,close:function(t,i){if(n){var s=e&&e({index:t||0,value:h&&h.value||""});if(s===!1)return;i!==!1?(n.classList.remove(a),n.classList.add(l)):r(),v.pop(),v.length?v[v.length-1].show(i):setTimeout(function(){w.classList.remove(g)},100)}}},p=function(t){u.close(c.indexOf(t.target))};return $(n).on("click","."+f,p),v.length&&v[v.length-1].hide(),v.push({close:u.close,show:function(t){n.style.display="block",n.offsetHeight,n.classList.add(a)},hide:function(){n.style.display="none",n.classList.remove(a)}}),u},T=function(t,e,i,n,s){if("undefined"!=typeof t)return"function"==typeof e?(n=e,s=i,e=null,i=null):"function"==typeof i&&(s=n,n=i,i=null),S(b(t,e||"")+x([i||"确定"]),n)},k=function(t,e,i,n,s){if("undefined"!=typeof t)return"function"==typeof e?(n=e,s=i,e=null,i=null):"function"==typeof i&&(s=n,n=i,i=null),S(b(t,e||"提示")+x(i||["取消","确认"]),n)},_=function(t,e,i,n,s,o){if("undefined"!=typeof t)return"function"==typeof e?(s=e,o=i,e=null,i=null,n=null):"function"==typeof i?(s=i,o=n,i=null,n=null):"function"==typeof n&&(o=s,s=n,n=null),S(b(t,i||"提示",y(e))+x(n||["取消","确认"]),s)},C=function(t,e){var i=document.createElement("div"),n=document.createElement("span");i.className="ui-toast",n.innerHTML=t||"操作失败",i.appendChild(n),document.body.appendChild(i),i.offsetHeight,i.classList.add(g),timer=setTimeout(function(){i.classList.remove(g)},e?1e3*e:2e3),i.addEventListener("webkitTransitionEnd",function(t){i&&!i.classList.contains(g)&&i.parentNode.removeChild(i)})},E=function(t){var e='<div class="ui-loading-modal"><span class="ui-loading"></span></div>';return S(e,function(){},!t)},L=function(){return!!v.length&&(v[v.length-1].close(),!0)},P=function(){for(;v.length;)v[v.length-1].close()};n.closePopup=L,n.closePopups=P,n.alert=T,n.confirm=k,n.prompt=_,n.toast=C,n.showLoading=E,n.hideLoading=L},{"./Core":3}],7:[function(t,e,i){var n,s,o=t("./Core"),r=t("./Utils"),a=r.trigger,l=function(t){t.preventDefault()},c="ui-popover-action",h="ui-popup-backdrop",u="ui-backdrop-action",d="ui-active",p=function(t){this.removeEventListener("webkitTransitionEnd",p),this.addEventListener("touchmove",l),a(this,"shown",this)},f=function(t){w(this,"none"),this.removeEventListener("webkitTransitionEnd",f),this.removeEventListener("touchmove",l),a(this,"hidden",this)},m=function(){var t=document.createElement("div");return t.classList.add(h),t.addEventListener("touchmove",l),t.addEventListener("tap",function(t){n&&(n.addEventListener("webkitTransitionEnd",f),n.classList.remove(d),g(n),document.body.setAttribute("style",""))}),t}(),g=function(t){m.setAttribute("style","opacity:0"),n=null,s=r.later(function(){!t.classList.contains(d)&&m.parentNode&&m.parentNode===document.body&&document.body.removeChild(m)},350)},v=function(t,e){if(!("show"===e&&t.classList.contains(d)||"hide"===e&&!t.classList.contains(d))){s&&s.cancel(),t.removeEventListener("webkitTransitionEnd",p),t.removeEventListener("webkitTransitionEnd",f),m.classList.remove(u);var i=document.querySelector(".ui-popover.ui-active");if(i&&(i.addEventListener("webkitTransitionEnd",f),i.classList.remove(d),t===i))return void g(i);var n=!1;t.classList.contains(c)&&(n=!0,m.classList.add(u)),w(t,"block"),t.offsetHeight,t.classList.add(d),m.setAttribute("style",""),document.body.appendChild(m),y(t,n),m.classList.add(d),t.addEventListener("webkitTransitionEnd",p)}},w=function(t,e,i,n){var s=t.style;"undefined"!=typeof e&&(s.display=e),"undefined"!=typeof i&&(s.top=i+"px"),"undefined"!=typeof n&&(s.left=n+"px")},y=function(t,e){if(t){if(e)return void w(t,"block");var i=window.innerWidth,n=window.innerHeight,s=t.offsetWidth,o=t.offsetHeight,r=(n-o)/2,a=(i-s)/2;w(t,"block",r,a)}};o.createMask=function(t){var e=document.createElement("div");e.classList.add(h),e.addEventListener("touchmove",l),e.addEventListener("tap",function(){i.close()});var i=[e];return i._show=!1,i.show=function(){return i._show=!0,e.setAttribute("style","opacity:1"),document.body.appendChild(e),i},i._remove=function(){return i._show&&(i._show=!1,e.setAttribute("style","opacity:0"),r.later(function(){var t=document.body;e.parentNode===t&&t.removeChild(e)},350)),i},i.close=function(){t?t()!==!1&&i._remove():i._remove()},i},$.fn.popover=function(){var t=arguments;this.each(function(){n=this,"show"!==t[0]&&"hide"!==t[0]&&"toggle"!==t[0]||v(this,t[0])})}},{"./Core":3,"./Utils":5}],8:[function(t,e,i){var n=t("./Core"),s=(t("./Class"),t("./Scroll")),o="ui-pull-top-pocket",r="ui-pull-bottom-pocket",a="ui-pull",l="ui-pull-loading",c="ui-pull-caption",h="ui-pull-caption-down",u="ui-pull-caption-refresh",d="ui-pull-caption-nomore",p="ui-icon",f="icon-refresh-loading",m="icon-refresh",g="ui-block",v="ui-hidden",w="ui-visibility",y=l+" "+p+" "+m,b=l+" "+p+" "+m,x=l+" "+p+" "+f,S=['<div class="'+a+'">','<div class="{icon}"></div>','<div class="'+c+'">{contentrefresh}</div>',"</div>"].join(""),T={init:function(t,e){this._super(t,$.extend(!0,{scrollY:!0,scrollX:!1,indicators:!0,
deceleration:.003,down:{height:50,contentinit:"下拉可以刷新",contentdown:"下拉可以刷新",contentover:"释放立即刷新",contentrefresh:"正在刷新..."},up:{height:50,auto:!1,contentinit:"上拉显示更多",contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了",duration:300}},e))},_init:function(){this._super(),this._initPocket()},_initPulldownRefresh:function(){this.pulldown=!0,this.pullPocket=this.topPocket,this.pullPocket.classList.add(g),this.pullPocket.classList.add(w),this.pullCaption=this.topCaption,this.pullLoading=this.topLoading},_initPullupRefresh:function(){this.pulldown=!1,this.pullPocket=this.bottomPocket,this.pullPocket.classList.add(g),this.pullPocket.classList.add(w),this.pullCaption=this.bottomCaption,this.pullLoading=this.bottomLoading},_initPocket:function(){var t=this.options;t.down&&t.down.hasOwnProperty("callback")&&(this.topPocket=this.scroller.querySelector("."+o),this.topPocket||(this.topPocket=this._createPocket(o,t.down,b),this.wrapper.insertBefore(this.topPocket,this.wrapper.firstChild)),this.topLoading=this.topPocket.querySelector("."+l),this.topCaption=this.topPocket.querySelector("."+c)),t.up&&t.up.hasOwnProperty("callback")&&(this.bottomPocket=this.scroller.querySelector("."+r),this.bottomPocket||(this.bottomPocket=this._createPocket(r,t.up,x),this.scroller.appendChild(this.bottomPocket)),this.bottomLoading=this.bottomPocket.querySelector("."+l),this.bottomCaption=this.bottomPocket.querySelector("."+c),this.wrapper.addEventListener("scrollbottom",this))},_createPocket:function(t,e,i){var n=document.createElement("div");return n.className=t,n.innerHTML=S.replace("{contentrefresh}",e.contentinit).replace("{icon}",i),n},_resetPullDownLoading:function(){var t=this.pullLoading;t&&(this.pullCaption.innerHTML=this.options.down.contentdown,t.style.webkitTransition="",t.style.webkitTransform="",t.style.webkitAnimation="",t.className=b)},_setCaptionClass:function(t,e,i){if(!t)switch(i){case this.options.up.contentdown:e.className=c+" "+h;break;case this.options.up.contentrefresh:e.className=c+" "+u;break;case this.options.up.contentnomore:e.className=c+" "+d}},_setCaption:function(t,e){if(!this.loading){var i=this.options,n=this.pullPocket,s=this.pullCaption,o=this.pullLoading,r=this.pulldown,a=this;n&&(e?setTimeout(function(){s.innerHTML=a.lastTitle=t,r?o.className=b:(a._setCaptionClass(!1,s,t),o.className=x),o.style.webkitAnimation="",o.style.webkitTransition="",o.style.webkitTransform=""},100):t!==this.lastTitle&&(s.innerHTML=t,r?t===i.down.contentrefresh?(o.className=x,o.style.webkitTransform=""):t===i.down.contentover?(o.className=y,o.style.webkitTransition="-webkit-transform 0.3s ease-in",o.style.webkitTransform="rotate(180deg)"):t===i.down.contentdown&&(o.className=b,o.style.webkitTransition="-webkit-transform 0.3s ease-in",o.style.webkitTransform="rotate(0deg)"):(t===i.up.contentrefresh?(o.className=x+" "+w,o.style.webkitTransform=""):o.className=x+" "+v,a._setCaptionClass(!1,s,t)),this.lastTitle=t))}}},k=s.extend($.extend({handleEvent:function(t){this._super(t),"scrollbottom"===t.type&&t.target===this.scroller&&this._scrollbottom()},_scrollbottom:function(){this.pulldown||this.loading||(this.pulldown=!1,this._initPullupRefresh(),this.pullupLoading())},_start:function(t){t.touches&&t.touches.length&&t.touches[0].clientX>30&&t.target&&!this._preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault(),this.loading||(this.pulldown=this.pullPocket=this.pullCaption=this.pullLoading=!1),this._super(t)},_drag:function(t){this._super(t),!this.pulldown&&!this.loading&&this.topPocket&&"down"===t.detail.direction&&this.y>=0&&this._initPulldownRefresh(),this.pulldown&&this._setCaption(this.y>this.options.down.height?this.options.down.contentover:this.options.down.contentdown)},_reLayout:function(){this.hasVerticalScroll=!0,this._super()},resetPosition:function(t){if(this.pulldown){if(this.y>=this.options.down.height)return this.pulldownLoading(void 0,t||0),!0;!this.loading&&this.topPocket.classList.remove(w)}return this._super(t)},pulldownLoading:function(t,e){if("undefined"==typeof t&&(t=this.options.down.height),this.scrollTo(0,t,e,this.options.bounceEasing),!this.loading){this._initPulldownRefresh(),this._setCaption(this.options.down.contentrefresh),this.loading=!0,this.indicators.map(function(t){t.fade(0)});var i=this.options.down.callback;i&&i.call(this)}},endPulldownToRefresh:function(){var t=this;t.topPocket&&t.loading&&this.pulldown&&(t.scrollTo(0,0,t.options.bounceTime,t.options.bounceEasing),t.loading=!1,t._setCaption(t.options.down.contentdown,!0),setTimeout(function(){t.loading||t.topPocket.classList.remove(w)},350))},pullupLoading:function(t,e,i){e=e||0,this.scrollTo(e,this.maxScrollY,i,this.options.bounceEasing),this.loading||(this._initPullupRefresh(),this._setCaption(this.options.up.contentrefresh),this.indicators.map(function(t){t.fade(0)}),this.loading=!0,t=t||this.options.up.callback,t&&t.call(this))},endPullupToRefresh:function(t){var e=this;e.bottomPocket&&(e.loading=!1,t?(this.finished=!0,e._setCaption(e.options.up.contentnomore),e.wrapper.removeEventListener("scrollbottom",e)):(e._setCaption(e.options.up.contentdown),e.loading||e.bottomPocket.classList.remove(w)))},disablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.className="ui-pull-bottom-pocket "+v,this.wrapper.removeEventListener("scrollbottom",this)},enablePullupToRefresh:function(){this._initPullupRefresh(),this.bottomPocket.classList.remove(v),this._setCaption(this.options.up.contentdown),this.wrapper.addEventListener("scrollbottom",this)},refresh:function(t){t&&this.finished&&(this.enablePullupToRefresh(),this.finished=!1),this._super()}},T));$.fn.pullRefresh=function(t){if(1===this.length){var e=this[0],i=null;t=t||{};var s=e.getAttribute("data-pullrefresh");return s?i=n.CacheData[s]:(s=++n.uuid,n.CacheData[s]=i=new k(e,t),e.setAttribute("data-pullrefresh",s)),t.down&&t.down.auto?i.pulldownLoading(t.down.autoY):t.up&&t.up.auto&&i.pullupLoading(),i}}},{"./Core":3,"./Class":10,"./Scroll":11}],9:[function(t,e,i){t("./FastClick"),t("./Router"),t("./Core"),t("./Slider"),t("./Utils"),t("./Modals"),t("./Popover"),t("./PullRefresh"),t("./Scroll")},{"./FastClick":1,"./Router":2,"./Core":3,"./Slider":4,"./Utils":5,"./Modals":6,"./Popover":7,"./PullRefresh":8,"./Scroll":11}],10:[function(t,e,i){var n=!1,s=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,o=function(){};o.extend=function(t){function e(){!n&&this.init&&this.init.apply(this,arguments)}var i=this.prototype;n=!0;var o=new this;n=!1;for(var r in t)o[r]="function"==typeof t[r]&&"function"==typeof i[r]&&s.test(t[r])?function(t,e){return function(){var n=this._super;this._super=i[t];var s=e.apply(this,arguments);return this._super=n,s}}(r,t[r]):t[r];return e.prototype=o,e.prototype.constructor=e,e.extend=arguments.callee,e},e.exports=o},{}],11:[function(t,e,i){var n=t("./Core"),s=t("./Class"),o=t("./OS"),r=t("./Utils");t("./Gestures"),t("./Gestures.Drag"),t("./Gestures.Flick"),t("./Gestures.Tap");var a="ui-scroll",l="ui-scrollbar",c="ui-scrollbar-indicator",h=l+"-vertical",u=l+"-horizontal",d="ui-active",p={quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return Math.sqrt(1- --t*t)}},outCirc:{style:"cubic-bezier(0.075, 0.82, 0.165, 1)"},outCubic:{style:"cubic-bezier(0.165, 0.84, 0.44, 1)"}},f=r.trigger,m=r.getStyles,g=n.gestures;g.session={};var v=s.extend({init:function(t,e){this.wrapper=this.element=t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller&&this.scroller.style,this.stopped=!1,this.options=$.extend(!0,{scrollY:!0,scrollX:!1,startX:0,startY:0,indicators:!0,stopPropagation:!1,hardwareAccelerated:!0,fixedBadAndorid:!1,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|VIDEO|A)$/},momentum:!0,snapX:.5,snap:!1,bounce:!0,bounceTime:500,bounceEasing:p.outCirc,scrollTime:500,scrollEasing:p.outCubic,directionLockThreshold:5,parallaxElement:!1,parallaxRatio:.5},e),this.x=0,this.y=0,this.translateZ=this.options.hardwareAccelerated?" translateZ(0)":"",this._init(),this.scroller&&this.refresh()},_init:function(){this._initParallax(),this._initIndicators(),this._initEvent()},_initParallax:function(){this.options.parallaxElement&&(this.parallaxElement=document.querySelector(this.options.parallaxElement),this.parallaxStyle=this.parallaxElement.style,this.parallaxHeight=this.parallaxElement.offsetHeight,this.parallaxImgStyle=this.parallaxElement.querySelector("img").style)},_initIndicators:function(){var t=this;if(t.indicators=[],this.options.indicators){var e,i=[];t.options.scrollY&&(e={el:this._createScrollBar(h),listenX:!1},this.wrapper.appendChild(e.el),i.push(e)),this.options.scrollX&&(e={el:this._createScrollBar(u),listenY:!1},this.wrapper.appendChild(e.el),i.push(e));for(var n=i.length;n--;)this.indicators.push(new w(this,i[n]))}},_initSnap:function(){this.currentPage={},this.pages=[];for(var t=this.snaps,e=t.length,i=0,n=-1,s=0,o=0,r=0,a=0,l=0;l<e;l++){var c=t[l],h=c.offsetLeft,u=c.offsetWidth;(0===l||h<=t[l-1].offsetLeft)&&(i=0,n++),this.pages[i]||(this.pages[i]=[]),s=this._getSnapX(h),a=Math.round(u*this.options.snapX),o=s-a,r=s-u+a,this.pages[i][n]={x:s,leftX:o,rightX:r,pageX:i,element:c},c.classList.contains(d)&&(this.currentPage=this.pages[i][0]),s>=this.maxScrollX&&i++}this.options.startX=this.currentPage.x||0},_getSnapX:function(t){return Math.max(Math.min(0,-t+this.wrapperWidth/2),this.maxScrollX)},_gotoPage:function(t){this.currentPage=this.pages[Math.min(t,this.pages.length-1)][0];for(var e=0,i=this.snaps.length;e<i;e++)e===t?this.snaps[e].classList.add(d):this.snaps[e].classList.remove(d);this.scrollTo(this.currentPage.x,0,this.options.scrollTime)},_nearestSnap:function(t){if(!this.pages.length)return{x:0,pageX:0};var e=0,i=this.pages.length;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX);e<i;e++){var n="left"===this.direction?this.pages[e][0].leftX:this.pages[e][0].rightX;if(t>=n)return this.pages[e][0]}return{x:0,pageX:0}},_initEvent:function(t){var e=t?"removeEventListener":"addEventListener";window[e]("orientationchange",this),window[e]("resize",this),this.scroller[e]("webkitTransitionEnd",this),this.wrapper[e]("touchstart",this),this.wrapper[e]("touchcancel",this),this.wrapper[e]("touchend",this),this.wrapper[e]("drag",this),this.wrapper[e]("dragend",this),this.wrapper[e]("flick",this),this.wrapper[e]("scrollend",this),this.options.scrollX&&this.wrapper[e]("swiperight",this);var i=this.wrapper.querySelector(".ui-segmented-control");i&&$(i)[t?"off":"on"]("click","a",function(t){t.preventDefault()}),this.wrapper[e]("scrollstart",this),this.wrapper[e]("refresh",this)},_handleIndicatorScrollend:function(){this.indicators.map(function(t){t.fade()})},_handleIndicatorScrollstart:function(){this.indicators.map(function(t){t.fade(1)})},_handleIndicatorRefresh:function(){this.indicators.map(function(t){t.refresh()})},handleEvent:function(t){if(this.stopped)return void this.resetPosition();switch(t.type){case"touchstart":this._start(t);break;case"drag":this.options.stopPropagation&&t.stopPropagation(),this._drag(t);break;case"dragend":case"flick":this.options.stopPropagation&&t.stopPropagation(),this._flick(t);break;case"touchcancel":case"touchend":this._end(t);break;case"webkitTransitionEnd":this.transitionTimer&&this.transitionTimer.cancel(),this._transitionEnd(t);break;case"scrollstart":this._handleIndicatorScrollstart(t);break;case"scrollend":this._handleIndicatorScrollend(t),this._scrollend(t),t.stopPropagation();break;case"orientationchange":case"resize":this._resize();break;case"swiperight":t.stopPropagation();break;case"refresh":this._handleIndicatorRefresh(t)}},_start:function(t){if(this.moved=this.needReset=!1,this._transitionTime(),this.isInTransition){this.needReset=!0,this.isInTransition=!1;var e=n.utils.parseTranslateMatrix(m(this.scroller,"webkitTransform"));this.setTranslate(Math.round(e.x),Math.round(e.y)),f(this.scroller,"scrollend",this),t.preventDefault()}this.reLayout()},_getDirectionByAngle:function(t){return t<-80&&t>-100?"up":t>=80&&t<100?"down":t>=170||t<=-170?"left":t>=-35&&t<=10?"right":null},_drag:function(t){var e=t.detail;if((this.options.scrollY||"up"===e.direction||"down"===e.direction)&&o.ios&&parseFloat(o.version)>=8){var i=e.gesture.touches[0].clientY;if(i+10>window.innerHeight||i<10)return void this.resetPosition(this.options.bounceTime)}var n=isReturn=!1;this._getDirectionByAngle(e.angle);if("left"===e.direction||"right"===e.direction?this.options.scrollX?(n=!0,this.moved||(g.session.lockDirection=!0,g.session.startDirection=e.direction)):this.options.scrollY&&!this.moved&&(isReturn=!0):"up"===e.direction||"down"===e.direction?this.options.scrollY?(n=!0,this.moved||(g.session.lockDirection=!0,g.session.startDirection=e.direction)):this.options.scrollX&&!this.moved&&(isReturn=!0):isReturn=!0,(this.moved||n)&&(t.stopPropagation(),e.gesture&&e.gesture.preventDefault()),!isReturn){this.moved?t.stopPropagation():f(this.scroller,"scrollstart",this);var s=0,r=0;this.moved?(s=e.deltaX-g.session.prevTouch.deltaX,r=e.deltaY-g.session.prevTouch.deltaY):(s=e.deltaX,r=e.deltaY);var a=Math.abs(e.deltaX),l=Math.abs(e.deltaY);a>l+this.options.directionLockThreshold?r=0:l>=a+this.options.directionLockThreshold&&(s=0),s=this.hasHorizontalScroll?s:0,r=this.hasVerticalScroll?r:0;var c=this.x+s,h=this.y+r;(c>0||c<this.maxScrollX)&&(c=this.options.bounce?this.x+s/3:c>0?0:this.maxScrollX),(h>0||h<this.maxScrollY)&&(h=this.options.bounce?this.y+r/3:h>0?0:this.maxScrollY),this.requestAnimationFrame||this._updateTranslate(),this.direction=e.deltaX>0?"right":"left",this.moved=!0,this.x=c,this.y=h}},_flick:function(t){if(this.moved){t.stopPropagation();var e=t.detail;if(this._clearRequestAnimationFrame(),"dragend"!==t.type||!e.flick){var i=Math.round(this.x),n=Math.round(this.y);if(this.isInTransition=!1,!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(i,n),"dragend"===t.type)return void f(this.scroller,"scrollend",this);var s=0,o="";return this.options.momentum&&e.flickTime<300&&(momentumX=this.hasHorizontalScroll?this._momentum(this.x,e.flickDistanceX,e.flickTime,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:i,duration:0},momentumY=this.hasVerticalScroll?this._momentum(this.y,e.flickDistanceY,e.flickTime,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:n,duration:0},i=momentumX.destination,n=momentumY.destination,s=Math.max(momentumX.duration,momentumY.duration),this.isInTransition=!0),i!=this.x||n!=this.y?((i>0||i<this.maxScrollX||n>0||n<this.maxScrollY)&&(o=p.quadratic),void this.scrollTo(i,n,s,o)):void f(this.scroller,"scrollend",this)}}}},_end:function(t){this.needReset=!1,(!this.moved&&this.needReset||"touchcancel"===t.type)&&this.resetPosition()},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,f(this.scroller,"scrollend",this)))},_scrollend:function(t){(0===this.y&&0===this.maxScrollY||Math.abs(this.y)>0&&this.y<=this.maxScrollY)&&f(this.scroller,"scrollbottom",this)},_resize:function(){var t=this;clearTimeout(t.resizeTimeout),t.resizeTimeout=setTimeout(function(){t.refresh()},t.options.resizePolling)},_transitionTime:function(t){if(t=t||0,this.scrollerStyle.webkitTransitionDuration=t+"ms",this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration=t+"ms"),this.options.fixedBadAndorid&&!t&&o.isBadAndroid&&(this.scrollerStyle.webkitTransitionDuration="0.001s",this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration="0.001s")),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t);t&&(this.transitionTimer&&this.transitionTimer.cancel(),this.transitionTimer=r.later(function(){f(this.scroller,"webkitTransitionEnd")},t+100,this))},_transitionTimingFunction:function(t){if(this.scrollerStyle.webkitTransitionTimingFunction=t,this.parallaxElement&&this.options.scrollY&&(this.parallaxStyle.webkitTransitionDuration=t),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){this.x=t,this.y=e},_clearRequestAnimationFrame:function(){this.requestAnimationFrame&&(cancelAnimationFrame(this.requestAnimationFrame),this.requestAnimationFrame=null)},_updateTranslate:function(){var t=this;t.x===t.lastX&&t.y===t.lastY||t.setTranslate(t.x,t.y),t.requestAnimationFrame=requestAnimationFrame(function(){t._updateTranslate()})},_createScrollBar:function(t){var e=document.createElement("div"),i=document.createElement("div");return e.className=l+" "+t,i.className=c,e.appendChild(i),t===h?(this.scrollbarY=e,this.scrollbarIndicatorY=i):t===u&&(this.scrollbarX=e,this.scrollbarIndicatorX=i),this.wrapper.appendChild(e),e},_preventDefaultException:function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},_reLayout:function(){if(this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.indicators.map(function(t){t.refresh()}),this.options.snap&&"string"==typeof this.options.snap){var t=this.scroller.querySelectorAll(this.options.snap);this.itemLength=0,this.snaps=[];for(var e=0,i=t.length;e<i;e++){var n=t[e];n.parentNode===this.scroller&&(this.itemLength++,this.snaps.push(n))}this._initSnap()}},_momentum:function(t,e,i,n,s,o){var r,a,l=parseFloat(Math.abs(e)/i);return o=void 0===o?6e-4:o,r=t+l*l/(2*o)*(e<0?-1:1),a=l/o,r<n?(r=s?n-s/2.5*(l/8):n,e=Math.abs(r-t),a=e/l):r>0&&(r=s?s/2.5*(l/8):0,e=Math.abs(t)+r,a=e/l),{destination:Math.round(r),duration:a}},_getTranslateStr:function(t,e){return this.options.hardwareAccelerated?"translate3d("+t+"px,"+e+"px,0px) "+this.translateZ:"translate("+t+"px,"+e+"px) "},setStopped:function(t){this.stopped=!!t},setTranslate:function(t,e){if(this.x=t,this.y=e,this.scrollerStyle.webkitTransform=this._getTranslateStr(t,e),this.parallaxElement&&this.options.scrollY){var i=e*this.options.parallaxRatio,n=1+i/((this.parallaxHeight-i)/2);n>1?(this.parallaxImgStyle.opacity=1-i/100*this.options.parallaxRatio,this.parallaxStyle.webkitTransform=this._getTranslateStr(0,-i)+" scale("+n+","+n+")"):(this.parallaxImgStyle.opacity=1,this.parallaxStyle.webkitTransform=this._getTranslateStr(0,-1)+" scale(1,1)")}if(this.indicators)for(var s=this.indicators.length;s--;)this.indicators[s].updatePosition();this.lastX=this.x,this.lastY=this.y,f(this.scroller,"scroll",this)},reLayout:function(){this.wrapper.offsetHeight;var t=parseFloat(m(this.wrapper,"padding-left"))||0,e=parseFloat(m(this.wrapper,"padding-right"))||0,i=parseFloat(m(this.wrapper,"padding-top"))||0,n=parseFloat(m(this.wrapper,"padding-bottom"))||0,s=this.wrapper.clientWidth,o=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.wrapperWidth=s-t-e,this.wrapperHeight=o-i-n,this.maxScrollX=Math.min(this.wrapperWidth-this.scrollerWidth,0),this.maxScrollY=Math.min(this.wrapperHeight-this.scrollerHeight,0),this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this._reLayout()},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.scrollEasing),!0)},_reInit:function(){for(var t=this.wrapper.querySelectorAll("."+a),e=0,i=t.length;e<i;e++)if(t[e].parentNode===this.wrapper){this.scroller=t[e];break}this.scrollerStyle=this.scroller&&this.scroller.style},refresh:function(){this._reInit(),this.reLayout(),f(this.scroller,"refresh",this),this.resetPosition()},scrollTo:function(t,e,i,n){var n=n||p.circular;this.isInTransition=i>0,this.isInTransition?(this._clearRequestAnimationFrame(),this._transitionTimingFunction(n.style),this._transitionTime(i),this.setTranslate(t,e)):this.setTranslate(t,e)},scrollToBottom:function(t,e){t=t||this.options.scrollTime,this.scrollTo(0,this.maxScrollY,t,e)},gotoPage:function(t){this._gotoPage(t)},destroy:function(){this._initEvent(!0),delete n.CacheData[this.wrapper.getAttribute("data-scroll")],this.wrapper.setAttribute("data-scroll","")}}),w=function(t,e){this.wrapper="string"==typeof e.el?document.querySelector(e.el):e.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options=$.extend({listenX:!0,listenY:!0,fade:!1,speedRatioX:0,speedRatioY:0},e),this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.fade&&(this.wrapperStyle.webkitTransform=this.scroller.translateZ,this.wrapperStyle.webkitTransitionDuration=this.options.fixedBadAndorid&&o.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")};w.prototype={handleEvent:function(t){},transitionTime:function(t){t=t||0,this.indicatorStyle.webkitTransitionDuration=t+"ms",this.scroller.options.fixedBadAndorid&&!t&&o.isBadAndroid&&(this.indicatorStyle.webkitTransitionDuration="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle.webkitTransitionTimingFunction=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.wrapper.offsetHeight,this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px",this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px",this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;t<this.minBoundaryX?(this.width=Math.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px",t=this.minBoundaryX):t>this.maxBoundaryX?(this.width=Math.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?(this.height=Math.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px",e=this.minBoundaryY):e>this.maxBoundaryY?(this.height=Math.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px"),this.x=t,this.y=e,this.indicatorStyle.webkitTransform=this.scroller._getTranslateStr(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle.webkitTransitionDuration=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},$.fn.scroll=function(t){var e=[];return this.each(function(){var i=null,s=this,o=s.getAttribute("data-scroll");if(o)i=n.CacheData[o];else{o=++n.uuid;var r=$.extend({},t);s.classList.contains("ui-segmented-control")&&(r=$.extend(r,{scrollY:!1,scrollX:!0,indicators:!1,snap:".ui-control-item"})),n.CacheData[o]=i=new v(s,r),s.setAttribute("data-scroll",o)}e.push(i)}),1===e.length?e[0]:e},e.exports=v},{"./Core":3,"./Utils":5,"./Class":10,"./OS":12,"./Gestures":13,"./Gestures.Drag":14,"./Gestures.Flick":15,"./Gestures.Tap":16}],12:[function(t,e,i){function n(t){this.os={};var e=[function(){var e=t.match(/(MicroMessenger)\/([\d\.]+)/i);return e&&(this.os.wechat={version:e[2].replace(/_/g,".")}),!1},function(){var e=t.match(/(Android);?[\s\/]+([\d.]+)?/);return e&&(this.os.android=!0,this.os.version=e[2],this.os.isBadAndroid=!/Chrome\/\d/.test(window.navigator.appVersion)),this.os.android===!0},function(){var e=t.match(/(iPhone\sOS)\s([\d_]+)/);if(e)this.os.ios=this.os.iphone=!0,this.os.version=e[2].replace(/_/g,".");else{var i=t.match(/(iPad).*OS\s([\d_]+)/);i&&(this.os.ios=this.os.ipad=!0,this.os.version=i[2].replace(/_/g,"."))}return this.os.ios===!0}];[].every.call(e,function(t){return!t.call(s)})}var s=t("./Core");n.call(s,navigator.userAgent),e.exports=s.os},{"./Core":3}],13:[function(t,e,i){var n=t("./Core"),s=(t("./OS"),t("./Utils"));s.trigger;n.gestures={addAction:function(t,e){var i=n.hooks[t];return i||(i=[]),e.index=e.index||1e3,i.push(e),i.sort(function(t,e){return t.index-e.index}),n.hooks[t]=i,n.hooks[t]},doAction:function(t,e){"function"==typeof e?$.each(n.hooks[t],e):$.each(n.hooks[t],function(t,e){return!e.handle()})},addGesture:function(t){return this.addAction("gestures",t)}};var o=Math.round,r=Math.abs,a=Math.sqrt,l=(Math.atan,Math.atan2),c=function(t,e,i){i||(i=["x","y"]);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return a(n*n+s*s)},h=function(t,e){if(t.length>=2&&e.length>=2){var i=["pageX","pageY"];return c(e[1],e[0],i)/c(t[1],t[0],i)}return 1},u=function(t,e,i){i||(i=["x","y"]);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return 180*l(s,n)/Math.PI},d=function(t,e){return t===e?"":r(t)>=r(e)?t>0?"left":"right":e>0?"up":"down"},p=function(t,e){var i=["pageX","pageY"];return u(e[1],e[0],i)-u(t[1],t[0],i)},f=function(t,e,i){return{x:e/t||0,y:i/t||0}},m=function(t,e){n.gestures.stoped||n.gestures.doAction("gestures",function(i,s){n.gestures.stoped||s.handle(t,e)})},g=function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},v=function(t,e,i){for(var n=[],s=[],o=0;o<t.length;){var r=e?t[o][e]:t[o];s.indexOf(r)<0&&n.push(t[o]),s[o]=r,o++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n},w=function(t){var e=t.length;if(1===e)return{x:o(t[0].pageX),y:o(t[0].pageY)};for(var i=0,n=0,s=0;s<e;)i+=t[s].pageX,n+=t[s].pageY,s++;return{x:o(i/e),y:o(n/e)}},y=function(){},b=function(t){for(var e=[],i=0;i<t.touches.length;)e[i]={pageX:o(t.touches[i].pageX),pageY:o(t.touches[i].pageY)},i++;return{timestamp:+new Date,gesture:t.gesture,touches:e,center:w(t.touches),deltaX:t.deltaX,deltaY:t.deltaY}},x=function(t){var e=n.gestures.session,i=t.center,s=e.offsetDelta||{},o=e.prevDelta||{},r=e.prevTouch||{};"touchstart"!==t.gesture.type&&"touchend"!==t.gesture.type||(o=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},s=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=o.x+(i.x-s.x),t.deltaY=o.y+(i.y-s.y)},S=function(t){var e=n.gestures.session,i=t.touches,s=i.length;e.firstTouch||(e.firstTouch=b(t)),y()&&s>1&&!e.firstMultiTouch?e.firstMultiTouch=b(t):1===s&&(e.firstMultiTouch=!1);var o=e.firstTouch,r=e.firstMultiTouch,a=r?r.center:o.center,l=t.center=w(i);t.timestamp=+new Date,t.deltaTime=t.timestamp-o.timestamp,t.angle=u(a,l),t.distance=c(a,l),x(t),t.offsetDirection=d(t.deltaX,t.deltaY),t.scale=r?h(r.touches,i):1,t.rotation=r?p(r.touches,i):0,k(t)},T=25,k=function(t){var e,i,s,o,a=n.gestures.session,l=a.lastInterval||t,c=t.timestamp-l.timestamp;if("touchcancel"!=t.gesture.type&&(c>T||void 0===l.velocity)){var h=l.deltaX-t.deltaX,u=l.deltaY-t.deltaY,p=f(c,h,u);i=p.x,s=p.y,e=r(p.x)>r(p.y)?p.x:p.y,o=d(h,u)||l.direction,a.lastInterval=t}else e=l.velocity,i=l.velocityX,s=l.velocityY,o=l.direction;t.velocity=e,t.velocityX=i,t.velocityY=s,t.direction=o},_={},C=function(t){for(var e=0;e<t.length;e++)!t.identifier&&(t.identifier=0);return t},E=function(t,e){var i=C([].slice.call(t.touches||[t])),s=t.type,o=[],r=[];if("touchstart"!==s&&"touchmove"!==s||1!==i.length){var a=0,o=[],r=[],l=C([].slice.call(t.changedTouches||[t]));e.target=t.target;var c=n.gestures.session.target||t.target;if(o=i.filter(function(t){return g(t.target,c)}),"touchstart"===s)for(a=0;a<o.length;)_[o[a].identifier]=!0,a++;for(a=0;a<l.length;)_[l[a].identifier]&&r.push(l[a]),"touchend"!==s&&"touchcancel"!==s||delete _[l[a].identifier],a++;if(!r.length)return!1}else _[i[0].identifier]=!0,o=i,r=i,e.target=t.target;o=v(o.concat(r),"identifier",!0);var h=o.length,u=r.length;return"touchstart"===s&&h-u===0&&(e.isFirst=!0,n.gestures.touch=n.gestures.session={target:t.target}),e.isFinal=("touchend"===s||"touchcancel"===s)&&h-u===0,e.touches=o,e.changedTouches=r,!0},L=function(t){var e={gesture:t},i=E(t,e);i&&(S(e),m(t,e),n.gestures.session.prevTouch=e)};window.addEventListener("touchstart",L),window.addEventListener("touchmove",L),window.addEventListener("touchend",L),window.addEventListener("touchcancel",L)},{"./Core":3,"./Utils":5,"./OS":12}],14:[function(t,e,i){var n=t("./Core"),s=t("./Utils"),o=s.trigger,r=function(t,e){var i=n.gestures.session,s="drag";switch(t.type){case"touchstart":break;case"touchmove":if(!e.direction||!i.target)return;i.lockDirection&&i.startDirection&&i.startDirection&&i.startDirection!==e.direction&&("up"===i.startDirection||"down"===i.startDirection?e.direction=e.deltaY<0?"up":"down":e.direction=e.deltaX<0?"left":"right"),i.drag||(i.drag=!0,o(i.target,s+"start",e)),o(i.target,s,e),o(i.target,s+e.direction,e);break;case"touchend":case"touchcancel":i.drag&&e.isFinal&&o(i.target,s+"end",e)}};n.gestures.addGesture({name:"drag",index:20,handle:r,options:{fingers:1}})},{"./Core":3,"./Utils":5}],15:[function(t,e,i){var n=t("./Core"),s=t("./Utils"),o=s.trigger,r=0,a=function(t,e){var i=n.gestures.session,s="flick",a=this.options,l=+new Date;switch(t.type){case"touchmove":l-r>300&&(r=l,i.flickStart=e.center);break;case"touchend":case"touchcancel":e.flick=!1,i.flickStart&&a.flickMaxTime>l-r&&e.distance>a.flickMinDistince&&(e.flick=!0,e.flickTime=l-r,e.flickDistanceX=e.center.x-i.flickStart.x,e.flickDistanceY=e.center.y-i.flickStart.y,o(i.target,s,e),o(i.target,s+e.direction,e))}};n.gestures.addGesture({name:"flick",index:5,handle:a,options:{flickMaxTime:200,flickMinDistince:10}})},{"./Core":3,"./Utils":5}],16:[function(t,e,i){var n,s,o=t("./Core"),r=t("./Utils"),a=r.trigger,l=function(t,e){var i=o.gestures.session,r=this.options;switch(t.type){case"touchend":if(!e.isFinal)return;var l=i.target;if(!l||l.disabled||l.classList&&l.classList.contains("disabled"))return;if(e.distance<r.tapMaxDistance&&e.deltaTime<r.tapMaxTime){if(n&&n===l&&s&&e.timestamp-s<r.tapMaxInterval)return a(l,"doubletap",e),s=+new Date,void(n=l);a(l,"tap",e),s=+new Date,n=l}}};o.gestures.addGesture({name:"tap",index:30,handle:l,options:{fingers:1,tapMaxInterval:300,tapMaxDistance:5,tapMaxTime:250}})},{"./Core":3,"./Utils":5}]},{},[9]);